<div class="panel panel-flat">
    <div class="panel-body">
        <!-- RenglÃ³n de Filtros -->
        <div class="row mb-3">
            <!-- Columna para Filtro de Cancha -->
            <div class="col-md-4">
                <label for="fielduser" class="form-label">Cancha:</label>
                <select class="form-control" [(ngModel)]="selectedField" (change)="onFieldChange()">
                    <option *ngFor="let field of fields" [value]="field._id">{{ field.nombre }}</option>
                </select>
            </div>

            <!-- Columna para Filtro de Torneo -->
            <div class="col-md-4">
                <label for="tournament" class="form-label">Torneo:</label>
                <select class="form-control" [(ngModel)]="selectedTournament" (change)="onTournamentChange()">
                    <option *ngFor="let tournament of tournaments" [value]="tournament._id">{{ tournament.nombre }}</option>
                </select>
            </div>

            <!-- Columna para Filtro de Equipo -->
            <div class="col-md-4">
                <label for="team" class="form-label">Equipo:</label>
                <select class="form-control" [(ngModel)]="selectedTeam" (change)="onTeamChange()">
                    <option *ngFor="let team of teams" [value]="team._id">{{ team.nombre }}</option>
                </select>
            </div>
        </div>

        <!-- Filtro de Nombre -->
        <br><br>

        <!-- Tabla -->
        <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Cancha</th>
                    <th>Torneo</th>
                    <th>Equipo</th>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Status</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let player of players | filtroUsuario:filtroNombre | paginate: { itemsPerPage: pageSize, currentPage: currentPage }">
                    <td>{{ player.autoincrement }}</td>
                    <td>{{ player.field.nombre }}</td>
                    <td>{{ player.tournament.nombre}}</td>
                    <td>{{ player.team.nombre }}</td>
                    <td>{{ player.nombre}}</td>
                    <td>{{ player.apellidos }}</td>
                    <td>
                        <mat-slide-toggle id="playerStatus{{player._id}}" (change)="changeStatus(player._id, player.status)"
                            [(ngModel)]="player.status">
                            <span class="form-check-label" for="playerStatus" *ngIf="player.status">Activo</span>
                            <span class="form-check-label" for="playerStatus" *ngIf="!player.status">Inactivo</span>
                        </mat-slide-toggle>
                    </td>
                    <td>
                        <ul class="icons-list">
                            <li class="text-primary-600"><a (click)="editarJugador(player._id)"><i
                                        class="icon-pencil7"></i></a></li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
        <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
    </div>
</div>




